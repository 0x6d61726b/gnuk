<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>ChibiOS/RT: pwm_lld.h File Reference</title>
<link href="custom.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<table style="text-align: center; width: 100%;" border="0"
 cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="width: 80px;"><img alt="ChibiOS/RT Logo" src="logo_small.png"></td>
      <td><big><big>ChibiOS/RT</big></big><br><br>Architecture - Reference Manual - Guides</td>
      <td style="width: 80px;"></td>
    </tr>
  </tbody>
</table>
<hr size="1">
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>pwm_lld.h File Reference</h1>  </div>
</div>
<div class="contents">

<p>STM32 PWM subsystem low level driver header.  
<a href="#_details">More...</a></p>

<p><a href="platforms_2_s_t_m32_2pwm__lld_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_p_w_m_channel_config.html">PWMChannelConfig</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">PWM driver channel configuration structure.  <a href="struct_p_w_m_channel_config.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_p_w_m_config.html">PWMConfig</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Driver configuration structure.  <a href="struct_p_w_m_config.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_p_w_m_driver.html">PWMDriver</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Structure representing an PWM driver.  <a href="struct_p_w_m_driver.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_w_m.html#ga312588cf680d50931666643dea45bb13">PWM_CHANNELS</a>&nbsp;&nbsp;&nbsp;4</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of PWM channels per PWM driver.  <a href="group___p_w_m.html#ga312588cf680d50931666643dea45bb13"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_w_m.html#ga0fe5257a5ba79302dce9df6d50de9364">USE_STM32_PWM1</a>&nbsp;&nbsp;&nbsp;TRUE</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">PWM1 driver enable switch.  <a href="group___p_w_m.html#ga0fe5257a5ba79302dce9df6d50de9364"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_w_m.html#gac7e757e9d0af908f7e06ab5221f30aa2">USE_STM32_PWM2</a>&nbsp;&nbsp;&nbsp;TRUE</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">PWM2 driver enable switch.  <a href="group___p_w_m.html#gac7e757e9d0af908f7e06ab5221f30aa2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_w_m.html#gaf1306b9ade0a6771eaa967feeeb075f3">USE_STM32_PWM3</a>&nbsp;&nbsp;&nbsp;TRUE</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">PWM3 driver enable switch.  <a href="group___p_w_m.html#gaf1306b9ade0a6771eaa967feeeb075f3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_w_m.html#gae2f2fa3291ecf36f8f270efa25d4e044">USE_STM32_PWM4</a>&nbsp;&nbsp;&nbsp;TRUE</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">PWM4 driver enable switch.  <a href="group___p_w_m.html#gae2f2fa3291ecf36f8f270efa25d4e044"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_w_m.html#gac800997848ce5e6c707372390d945c7c">STM32_PWM1_IRQ_PRIORITY</a>&nbsp;&nbsp;&nbsp;7</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">PWM1 interrupt priority level setting.  <a href="group___p_w_m.html#gac800997848ce5e6c707372390d945c7c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_w_m.html#ga0215547b5c9692aa9d6af10e46639f29">STM32_PWM2_IRQ_PRIORITY</a>&nbsp;&nbsp;&nbsp;7</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">PWM2 interrupt priority level setting.  <a href="group___p_w_m.html#ga0215547b5c9692aa9d6af10e46639f29"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_w_m.html#ga5dc025c64957640f0bd42460648c835a">STM32_PWM3_IRQ_PRIORITY</a>&nbsp;&nbsp;&nbsp;7</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">PWM3 interrupt priority level setting.  <a href="group___p_w_m.html#ga5dc025c64957640f0bd42460648c835a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_w_m.html#gafacc8948371fb7804b5c6cbb2a0aacd8">STM32_PWM4_IRQ_PRIORITY</a>&nbsp;&nbsp;&nbsp;7</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">PWM4 interrupt priority level setting.  <a href="group___p_w_m.html#gafacc8948371fb7804b5c6cbb2a0aacd8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_w_m.html#gafd811fe25f6327c0de0a94a008ab3a40">PWM_COMPUTE_PSC</a>(clksrc, pwmclk)&nbsp;&nbsp;&nbsp;((<a class="el" href="group___s_t_m8___c_o_r_e.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a>)(((clksrc) / (pwmclk)) - 1))</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">PWM clock prescaler initialization utility.  <a href="group___p_w_m.html#gafd811fe25f6327c0de0a94a008ab3a40"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_w_m.html#ga906648c8c8aed069ab8e3a68c7107eb8">PWM_COMPUTE_ARR</a>(pwmclk, pwmperiod)&nbsp;&nbsp;&nbsp;((<a class="el" href="group___s_t_m8___c_o_r_e.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a>)(((pwmclk) / (1000000000 / (pwmperiod))) - 1))</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">PWM cycle period initialization utility.  <a href="group___p_w_m.html#ga906648c8c8aed069ab8e3a68c7107eb8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_w_m.html#gaaefdcc19e16b2b3d8fad6fbe338e4b02">PWM_FRACTION_TO_WIDTH</a>(pwmp, numerator, denominator)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Converts from fraction to pulse width.  <a href="group___p_w_m.html#gaaefdcc19e16b2b3d8fad6fbe338e4b02"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_w_m.html#ga650e63fde12b02b59a459dbfe7427334">PWM_DEGREES_TO_WIDTH</a>(pwmp, degrees)&nbsp;&nbsp;&nbsp;PWM_FRACTION_TO_WIDTH(pwmp, 36000, degrees)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Converts from degrees to pulse width.  <a href="group___p_w_m.html#ga650e63fde12b02b59a459dbfe7427334"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_w_m.html#ga4e74ac1c2befb11ff66d218ca8d49531">PWM_PERCENTAGE_TO_WIDTH</a>(pwmp, percentage)&nbsp;&nbsp;&nbsp;PWM_FRACTION_TO_WIDTH(pwmp, 10000, percentage)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Converts from percentage to pulse width.  <a href="group___p_w_m.html#ga4e74ac1c2befb11ff66d218ca8d49531"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="group___s_t_m8___c_o_r_e.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_w_m.html#ga605a8a67c0f1cf38cecfcfada45b28b5">pwmchannel_t</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">PWM channel type.  <a href="group___p_w_m.html#ga605a8a67c0f1cf38cecfcfada45b28b5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="group___s_t_m8___c_o_r_e.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_w_m.html#gaef1826611f5a65369e9e02d04e81ed61">pwmcnt_t</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">PWM counter type.  <a href="group___p_w_m.html#gaef1826611f5a65369e9e02d04e81ed61"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_p_w_m_driver.html">PWMDriver</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_w_m.html#gaa3b607ac7aca4dc59345f779667c74e1">PWMDriver</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Type of a structure representing an PWM driver.  <a href="group___p_w_m.html#gaa3b607ac7aca4dc59345f779667c74e1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_w_m.html#ga77de6597901387b5b6ecb58613b09b56">pwmcallback_t</a> )(<a class="el" href="struct_p_w_m_driver.html">PWMDriver</a> *pwmp)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">PWM notification callback type.  <a href="group___p_w_m.html#ga77de6597901387b5b6ecb58613b09b56"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_w_m.html#ga7cb5729a65c0996584808e4f93b28a0d">pwm_lld_init</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Low level PWM driver initialization.  <a href="group___p_w_m.html#ga7cb5729a65c0996584808e4f93b28a0d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_w_m.html#ga8a4d803d25a5326b48b3713ffd5fce53">pwm_lld_start</a> (<a class="el" href="struct_p_w_m_driver.html">PWMDriver</a> *pwmp)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Configures and activates the PWM peripheral.  <a href="group___p_w_m.html#ga8a4d803d25a5326b48b3713ffd5fce53"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_w_m.html#ga48b759363af69a6aaee37a362ed5bfd2">pwm_lld_stop</a> (<a class="el" href="struct_p_w_m_driver.html">PWMDriver</a> *pwmp)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deactivates the PWM peripheral.  <a href="group___p_w_m.html#ga48b759363af69a6aaee37a362ed5bfd2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_w_m.html#ga8c6320208680a823925d2816856437cc">pwm_lld_enable_channel</a> (<a class="el" href="struct_p_w_m_driver.html">PWMDriver</a> *pwmp, <a class="el" href="group___p_w_m___l_l_d.html#ga605a8a67c0f1cf38cecfcfada45b28b5">pwmchannel_t</a> channel, <a class="el" href="group___p_w_m___l_l_d.html#gaef1826611f5a65369e9e02d04e81ed61">pwmcnt_t</a> width)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enables a PWM channel.  <a href="group___p_w_m.html#ga8c6320208680a823925d2816856437cc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_w_m.html#ga78cb61d7ea9fc996e3c2adec3f37cfd8">pwm_lld_disable_channel</a> (<a class="el" href="struct_p_w_m_driver.html">PWMDriver</a> *pwmp, <a class="el" href="group___p_w_m___l_l_d.html#ga605a8a67c0f1cf38cecfcfada45b28b5">pwmchannel_t</a> channel)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disables a PWM channel.  <a href="group___p_w_m.html#ga78cb61d7ea9fc996e3c2adec3f37cfd8"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>STM32 PWM subsystem low level driver header. </p>

<p>Definition in file <a class="el" href="platforms_2_s_t_m32_2pwm__lld_8h_source.html">platforms/STM32/pwm_lld.h</a>.</p>
</div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Sun Nov 28 2010 14:09:50 for ChibiOS/RT by&nbsp;<a href="http://www.doxygen.org/index.html"><img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.7.1</small></address>
</body>
</html>
